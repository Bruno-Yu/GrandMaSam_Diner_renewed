{"version":3,"file":"js/411.df75987a.js","mappings":"oOAOOA,MAAM,qB,GACJA,MAAM,mC,GACJA,MAAM,kB,GACJA,MAAM,O,GAMPC,EAAAA,EAAAA,IAAuD,KAApDD,MAAM,wCAAuC,OAAG,G,GAAnDE,G,GAhBZC,EAAAA,EAAAA,IAAA,yW,GAmCIF,EAAAA,EAAAA,IAIM,OAJDD,MAAM,iBAAe,EACxBC,EAAAA,EAAAA,IAEK,MAFDD,MAAM,mEAAkE,kBAE5E,G,GAGAA,MAAM,yF,GAGCA,MAAM,Q,GACTC,EAAAA,EAAAA,IAEC,SAFMG,IAAI,QAAQJ,MAAM,+B,EA7CnCK,EAAAA,EAAAA,IA6CiE,YAC/CJ,EAAAA,EAAAA,IAA4C,QAAtCD,MAAM,yBAAwB,OAAC,G,GAe1CA,MAAM,Q,GACTC,EAAAA,EAAAA,IAEC,SAFMG,IAAI,OAAOJ,MAAM,+B,EA9DlCK,EAAAA,EAAAA,IA+Da,WAAMJ,EAAAA,EAAAA,IAA4C,QAAtCD,MAAM,yBAAwB,OAAC,G,GAe3CA,MAAM,Q,GACTC,EAAAA,EAAAA,IAEC,SAFMG,IAAI,MAAMJ,MAAM,+B,EA/EjCK,EAAAA,EAAAA,IAgFa,WAAMJ,EAAAA,EAAAA,IAA4C,QAAtCD,MAAM,yBAAwB,OAAC,G,GAe3CA,MAAM,Q,GACTC,EAAAA,EAAAA,IAEC,SAFMG,IAAI,UAAUJ,MAAM,+B,EAhGrCK,EAAAA,EAAAA,IAiGa,WAAMJ,EAAAA,EAAAA,IAA4C,QAAtCD,MAAM,yBAAwB,OAAC,G,GAe3CA,MAAM,Q,GACTC,EAAAA,EAAAA,IAAmE,SAA5DG,IAAI,UAAUJ,MAAM,+BAA8B,MAAE,G,GAU7DC,EAAAA,EAAAA,IAEI,KAFDD,MAAM,kCAAgC,EA3HjDK,EAAAA,EAAAA,IA2HkD,UACpCJ,EAAAA,EAAAA,IAA8C,QAAxCD,MAAM,yBAAwB,QA5HlDK,EAAAA,EAAAA,IA4H4D,aACpD,G,GACKL,MAAM,kC,EA9HnB,a,8IAAAM,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,OACEC,EAAAA,EAAAA,IAKeC,EAAA,CAJbC,OAAO,OACNC,OAAQC,EAAAC,UACR,cAAY,EACZ,gBAAc,G,oBAEjBZ,EAAAA,EAAAA,IA0IM,MA1INa,EA0IM,EAzIJb,EAAAA,EAAAA,IA0BM,MA1BNc,EA0BM,EAzBJd,EAAAA,EAAAA,IAwBM,MAxBNe,EAwBM,EAvBJf,EAAAA,EAAAA,IAQM,MARNgB,EAQM,EAPJhB,EAAAA,EAAAA,IAMS,UALPD,MAAM,8DACNkB,KAAK,SACJC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,SAAAD,EAAAC,WAAAF,KAdpBG,KAmBQC,MAgBJC,GAKAzB,EAAAA,EAAAA,IAwGM,MAxGN0B,EAwGM,EArGJnB,EAAAA,EAAAA,IAoGQoB,EAAA,CApGDC,IAAI,OAAO7B,MAAM,yBAA8C8B,SAAQR,EAAAQ,U,CA3CpFC,SAAAC,EAAAA,EAAAA,KA4CQ,EADyDC,YAAM,EAC/DhC,EAAAA,EAAAA,IAeM,MAfNiC,EAeM,CAdJC,GAGA3B,EAAAA,EAAAA,IASU4B,EAAA,CARRC,GAAG,QACHC,KAAK,QACLpB,KAAK,QACLlB,OApDZuC,EAAAA,EAAAA,IAAA,CAoDkB,eAAc,cACIN,EAAO,YAC/BO,YAAY,YACZC,MAAM,iBAvDlBC,WAwDqB9B,EAAA+B,KAAKC,KAAKC,MAxD/B,sBAAAzB,EAAA,KAAAA,EAAA,GAAA0B,GAwDqBlC,EAAA+B,KAAKC,KAAKC,MAAKC,I,gCAE1BtC,EAAAA,EAAAA,IAAmEuC,EAAA,CAArDT,KAAK,QAAQtC,MAAM,wBAGnCC,EAAAA,EAAAA,IAeM,MAfN+C,EAeM,CAdJC,GAGAzC,EAAAA,EAAAA,IASU4B,EAAA,CARRC,GAAG,OACHC,KAAK,KACLpB,KAAK,OACLlB,OArEZuC,EAAAA,EAAAA,IAAA,CAqEkB,gCAA+B,cACbN,EAAO,SAC/BO,YAAY,QACXC,MAAOnB,EAAA4B,QAxEpBR,WAyEqB9B,EAAA+B,KAAKC,KAAKN,KAzE/B,sBAAAlB,EAAA,KAAAA,EAAA,GAAA0B,GAyEqBlC,EAAA+B,KAAKC,KAAKN,KAAIQ,I,wCAEzBtC,EAAAA,EAAAA,IAAgEuC,EAAA,CAAlDT,KAAK,KAAKtC,MAAM,wBAGhCC,EAAAA,EAAAA,IAeM,MAfNkD,EAeM,CAdJC,GAGA5C,EAAAA,EAAAA,IASU4B,EAAA,CARRC,GAAG,MACHC,KAAK,KACLpB,KAAK,MACLlB,OAtFZuC,EAAAA,EAAAA,IAAA,CAsFkB,gCAA+B,cACbN,EAAO,SAC/BO,YAAY,QACXC,MAAOnB,EAAA+B,QAzFpBX,WA0FqB9B,EAAA+B,KAAKC,KAAKU,IA1F/B,sBAAAlC,EAAA,KAAAA,EAAA,GAAA0B,GA0FqBlC,EAAA+B,KAAKC,KAAKU,IAAGR,I,wCAExBtC,EAAAA,EAAAA,IAAgEuC,EAAA,CAAlDT,KAAK,KAAKtC,MAAM,wBAGhCC,EAAAA,EAAAA,IAeM,MAfNsD,EAeM,CAdJC,GAGAhD,EAAAA,EAAAA,IASU4B,EAAA,CARRC,GAAG,UACHC,KAAK,KACLpB,KAAK,OACLlB,OAvGZuC,EAAAA,EAAAA,IAAA,CAuGkB,gCAA+B,cACbN,EAAO,SAC/BO,YAAY,QACXC,MAAOnB,EAAA4B,QA1GpBR,WA2GqB9B,EAAA+B,KAAKC,KAAKa,QA3G/B,sBAAArC,EAAA,KAAAA,EAAA,GAAA0B,GA2GqBlC,EAAA+B,KAAKC,KAAKa,QAAOX,I,wCAE5BtC,EAAAA,EAAAA,IAAgEuC,EAAA,CAAlDT,KAAK,KAAKtC,MAAM,wBAGhCC,EAAAA,EAAAA,IAUM,MAVNyD,EAUM,CATJC,GAAmE,SACnE1D,EAAAA,EAAAA,IAOY,YANVoC,GAAG,UACHrC,MAAM,eACN4D,KAAK,KACLC,KAAK,KACJpB,MAAO,CAAAqB,UAAA,GAvHpB,sBAAA1C,EAAA,KAAAA,EAAA,GAAA0B,GAwHqBlC,EAAA+B,KAAKoB,QAAOjB,I,iBAAZlC,EAAA+B,KAAKoB,aAGlBC,GAGA/D,EAAAA,EAAAA,IAgBM,MAhBNgE,EAgBM,EAfJhE,EAAAA,EAAAA,IAMS,UALPD,MAAM,mDACNkB,KAAK,SACJC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,SAAAD,EAAAC,WAAAF,KACT,UAIDpB,EAAAA,EAAAA,IAMS,UALPiB,KAAK,SACLlB,MAAM,kDACLkE,SAAUC,OAAOC,KAAKnC,GAAQoC,OAAS,GAA+B,IAA1BzD,EAAA0D,SAASC,MAAMF,QAC7D,SAED,EA7IVG,QAAAC,EAAA,G,qCAqJA,GACEC,IAAAA,GACE,MAAO,CACLJ,SAAU,CACRC,MAAO,IAETI,cAAe,GACf9D,WAAW,EACX8B,KAAM,CACJC,KAAM,CACJN,KAAM,GACNO,MAAO,GACPS,IAAK,GACLG,QAAS,IAEXM,QAAS,IAGf,EACAa,QAAS,CACPC,SAAAA,CAAUxC,EAAIyC,EAAM,GAClB,MAAMJ,EAAO,CACXK,WAAY1C,EACZyC,OAGFE,KAAKL,cAAgBtC,EACrB2C,KAAKC,MACFC,KAAK,gEAAmE,CAAER,SAC1ES,MAAK,KACJH,KAAKI,UACLJ,KAAKL,cAAgB,EAAE,GAE7B,EACAS,OAAAA,GACEJ,KAAKC,MACFI,IAAI,iEACJF,MAAMG,IACLN,KAAKV,SAAWgB,EAAIZ,KAAKA,IAAI,IAG9Ba,OAAOC,IACNR,KAAKnE,WAAY,EACjBmE,KAAKS,uBAAuBD,EAAME,SAAU,UAAU,GAE5D,EAEA5D,QAAAA,GACEkD,KAAKnE,WAAY,EACjB,MAAM8E,EAAM,iEACNC,EAAQZ,KAAKrC,KACnBqC,KAAKC,MACFC,KAAKS,EAAK,CAAEjB,KAAMkB,IAClBT,MAAK,KACJH,KAAKa,MAAMlD,KAAKmD,YAChBd,KAAKe,QAAQC,KAAK,eAClBhB,KAAKnE,WAAY,CAAK,IAGvB0E,OAAOC,IACNR,KAAKnE,WAAY,EACjBmE,KAAKS,uBAAuBD,EAAME,SAAU,SAAS,GAE3D,EACAxC,OAAAA,CAAQ+C,GACN,QAAOA,GAAe,QACxB,EACA5C,OAAAA,CAAQ4C,GACN,MAAMC,EAAc,iBACpB,QAAOA,EAAYC,KAAKF,IAAgB,WAC1C,EACA1E,OAAAA,GACEyD,KAAKnE,WAAY,EACjBmE,KAAKe,QAAQC,KAAK,aAClBhB,KAAKnE,WAAY,CACnB,GAEFuF,OAAAA,GACEpB,KAAKnE,WAAY,EACjBmE,KAAKI,UACLJ,KAAKnE,WAAY,CACnB,G,UCjOF,MAAMwF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://grandmasam_diner_renewed/./src/views/frontend/UserContact.vue","webpack://grandmasam_diner_renewed/./src/views/frontend/UserContact.vue?c34e"],"sourcesContent":["<template>\n  <PageLoading\n    loader=\"bars\"\n    :active=\"isLoading\"\n    :can-cancel=\"true\"\n    :is-full-page=\"false\"\n  ></PageLoading>\n  <div class=\"container px-lg-5\">\n    <div class=\"container my-3 d-none d-md-grid\">\n      <div class=\"row row-cols-3\">\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\"\n            type=\"button\"\n            @click=\"prePage\"\n          >\n            <p class=\"fs-4 font-Noto fw-600 text-dark my-2\">購物車</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\" type=\"button\">\n            <p class=\"fs-4 font-Noto fw-600 my-2\">填寫資訊</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-outline-secondary rounded-2 border border-body border-3\"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">訂單內容</p>\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mt-5 mb-3\">\n      <h2 class=\"font-Noto fw-700 text-center text-md-start ps-md-5 text-warning\">\n        步驟 2. 填寫資訊\n      </h2>\n    </div>\n    <div\n      class=\"row justify-content-center shadow my-5 bg-light border border-1 border-body rounded-3\"\n    >\n      <VForm ref=\"form\" class=\"col-md-6 rounded-3 p-5\" v-slot=\"{ errors }\" @submit=\"onSubmit\">\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label font-Noto fw-400\">\n            Email <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            rules=\"email|required\"\n            v-model=\"form.user.email\"\n          ></VField>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label font-Noto fw-400\"\n            >收件人姓名 <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control font-Noto fw-400\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            :rules=\"noEmpty\"\n            v-model=\"form.user.name\"\n          ></VField>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label font-Noto fw-400\"\n            >收件人電話 <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"tel\"\n            name=\"電話\"\n            type=\"tel\"\n            class=\"form-control font-Noto fw-400\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            :rules=\"isPhone\"\n            v-model=\"form.user.tel\"\n          ></VField>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label font-Noto fw-400\"\n            >收件人地址 <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control font-Noto fw-400\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            :rules=\"noEmpty\"\n            v-model=\"form.user.address\"\n          ></VField>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label font-Noto fw-400\">留言</label>\n          <textarea\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            :rules=\"{ required: false }\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <p class=\"text-secondary fw-bolder small\">\n          說明: <span class=\"text-danger fw-bolder\"> * </span>代表必填項目\n        </p>\n        <div class=\"d-flex justify-content-between\">\n          <button\n            class=\"d-block btn btn-outline-danger font-Noto fw-bold\"\n            type=\"button\"\n            @click=\"prePage\"\n          >\n            上一步\n          </button>\n\n          <button\n            type=\"submit\"\n            class=\"d-block btn btn-danger font-Noto fw-bold shadow\"\n            :disabled=\"Object.keys(errors).length > 0 || cartData.carts.length === 0\"\n          >\n            送出訂單\n          </button>\n        </div>\n      </VForm>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cartData: {\n        carts: [],\n      },\n      isLoadingItem: '',\n      isLoading: false,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      // 局部讀取效果賦值對應id\n      this.isLoadingItem = id;\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data })\n        .then(() => {\n          this.getCart();\n          this.isLoadingItem = '';\n        });\n    },\n    getCart() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data;\n        })\n\n        .catch((error) => {\n          this.isLoading = false;\n          this.$frontHttpMessageState(error.response, '購物車截取失敗');\n        });\n    },\n    // 驗證 表單觸發方法\n    onSubmit() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http\n        .post(url, { data: order })\n        .then(() => {\n          this.$refs.form.resetForm();\n          this.$router.push('/orderCheck');\n          this.isLoading = false;\n        })\n\n        .catch((error) => {\n          this.isLoading = false;\n          this.$frontHttpMessageState(error.response, '表單傳送失敗');\n        });\n    },\n    noEmpty(value) {\n      return value ? true : '此欄不得為空';\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n    prePage() {\n      this.isLoading = true;\n      this.$router.push('/cartView');\n      this.isLoading = false;\n    },\n  },\n  mounted() {\n    this.isLoading = true;\n    this.getCart();\n    this.isLoading = false;\n  },\n};\n</script>\n","import { render } from \"./UserContact.vue?vue&type=template&id=83e1a7e4\"\nimport script from \"./UserContact.vue?vue&type=script&lang=js\"\nexport * from \"./UserContact.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","_createStaticVNode","for","_createTextVNode","_createElementBlock","_Fragment","_createVNode","_component_PageLoading","loader","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","_cache","args","$options","prePage","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_component_VForm","ref","onSubmit","default","_withCtx","errors","_hoisted_11","_hoisted_12","_component_VField","id","name","_normalizeClass","placeholder","rules","modelValue","form","user","email","$event","_component_ErrorMessage","_hoisted_13","_hoisted_14","noEmpty","_hoisted_15","_hoisted_16","isPhone","tel","_hoisted_17","_hoisted_18","address","_hoisted_19","_hoisted_20","cols","rows","required","message","_hoisted_21","_hoisted_22","disabled","Object","keys","length","cartData","carts","_hoisted_23","_","data","isLoadingItem","methods","addToCart","qty","product_id","this","$http","post","then","getCart","get","res","catch","error","$frontHttpMessageState","response","url","order","$refs","resetForm","$router","push","value","phoneNumber","test","mounted","__exports__","render"],"sourceRoot":""}