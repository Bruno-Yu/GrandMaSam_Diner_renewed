"use strict";(self["webpackChunkgrandmasam_diner_renewed"]=self["webpackChunkgrandmasam_diner_renewed"]||[]).push([[679],{8679:function(s,t,e){e.r(t),e.d(t,{default:function(){return J}});var a=e(641);const o={class:"row mb-5"},n={class:"row"},l={class:"row"};function i(s,t,e,i,c,r){const u=(0,a.g2)("PageLoading"),d=(0,a.g2)("ToastMessages"),h=(0,a.g2)("BackNavbar"),k=(0,a.g2)("RouterView"),v=(0,a.g2)("FrontFooter");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u,{loader:"bars",active:c.isLoading,"can-cancel":!0,"is-full-page":!1},null,8,["active"]),(0,a.Lk)("div",null,[(0,a.bF)(d),(0,a.Lk)("div",o,[(0,a.bF)(h)]),(0,a.Lk)("div",n,[c.verify?((0,a.uX)(),(0,a.Wv)(k,{key:0})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",l,[(0,a.bF)(v)])])],64)}e(4114);var c=e(3751);const r={id:"back_header",class:"container shadow p-2 mb-2 fixed-top bg-body rounded"},u={class:"navbar navbar-expand-lg navbar-light fix-top"},d={class:"container d-flex"},h=(0,a.Lk)("p",{class:"text-dark fw-lighter text-center fs-6 lh-1 mb-0 font-Bangers"}," LET MAKE AMERICA GREAT AGAIN ",-1),k=(0,a.Lk)("button",{class:"navbar-toggler",type:"button","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a.Lk)("span",{class:"navbar-toggler-icon"})],-1),v={class:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},b={class:"navbar-nav align-items-center mb-2 ms-auto mb-lg-0"},g={class:"nav-item"},p=(0,a.Lk)("i",{class:"bi bi-shop-window"},null,-1),m={class:"nav-item"},f=(0,a.Lk)("i",{class:"bi bi-flag"},null,-1),L={class:"nav-item"},C=(0,a.Lk)("i",{class:"bi bi-clipboard-check"},null,-1),w={class:"nav-item"},y=(0,a.Lk)("i",{class:"bi bi-emoji-sunglasses"},null,-1),A={class:"nav-item"},$=(0,a.Lk)("i",{class:"bi bi-journal-text"},null,-1),x={class:"nav-item"},F=(0,a.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1);function N(s,t,e,o,n,l){const i=(0,a.g2)("RouterLink");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("nav",u,[(0,a.Lk)("div",d,[(0,a.bF)(i,{class:"fs-3 d-block navbar-brand my-0 lh-1 font-Bangers",to:"/",onClick:t[0]||(t[0]=s=>l.closeNavHam())},{default:(0,a.k6)((()=>[(0,a.eW)(" GRANDMA SAM DINER "),h])),_:1}),k,(0,a.Lk)("div",v,[(0,a.Lk)("ul",b,[(0,a.Lk)("li",g,[(0,a.bF)(i,{class:"nav-link fw-bold",to:"/admin",onClick:l.closeNavHam},{default:(0,a.k6)((()=>[p,(0,a.eW)(" 產品管理")])),_:1},8,["onClick"])]),(0,a.Lk)("li",m,[(0,a.bF)(i,{class:"nav-link fw-bold",to:"/couponsAdmin",onClick:l.closeNavHam},{default:(0,a.k6)((()=>[f,(0,a.eW)(" 挑戰管理")])),_:1},8,["onClick"])]),(0,a.Lk)("li",L,[(0,a.bF)(i,{class:"nav-link fw-bold",to:"/ordersAdmin",onClick:l.closeNavHam},{default:(0,a.k6)((()=>[C,(0,a.eW)(" 訂單管理")])),_:1},8,["onClick"])]),(0,a.Lk)("li",w,[(0,a.bF)(i,{class:"nav-link fw-bold",to:"/eventAdmin",onClick:l.closeNavHam},{default:(0,a.k6)((()=>[y,(0,a.eW)(" 公告編輯")])),_:1},8,["onClick"])]),(0,a.Lk)("li",A,[(0,a.bF)(i,{class:"nav-link fw-bold",to:"/aboutAdmin",onClick:l.closeNavHam},{default:(0,a.k6)((()=>[$,(0,a.eW)(" 關於作品")])),_:1},8,["onClick"])]),(0,a.Lk)("li",x,[(0,a.Lk)("a",{class:"nav-link fw-bold text-decoration-none",onClick:t[1]||(t[1]=(0,c.D$)(((...s)=>l.logout&&l.logout(...s)),["prevent"])),href:"#"},[F,(0,a.eW)(" 登出")])])])])])])])}var _=e(8647),S=e.n(_),E={data(){return{bsCollapse:null}},methods:{closeNavHam(){this.bsCollapse.hide()},toggleNavHam(){this.bsCollapse.toggle()},logout(){const s="https://vue3-course-api.hexschool.io/v2//logout";this.$http.post(s).then((s=>{this.$httpMessageState(s,"登出"),this.$router.push("/login")})).catch((s=>{this.$httpMessageState(s.response,"錯誤訊息")}))}},mounted(){const s=document.querySelector("#navbarSupportedContent");this.bsCollapse=new(S())(s,{toggle:!1})}},M=e(6262);const T=(0,M.A)(E,[["render",N]]);var H=T,W=e(3096),X=e(5930),R=e(33);const B={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},I={class:"toast-header"},j={class:"me-auto"},D=["onClick"],G={key:0,class:"toast-body"};function K(s,t,e,o,n,l){return(0,a.uX)(),(0,a.CE)("div",B,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.messages,((s,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,R.C4)(["toast show",`toast${t}`]),role:"alert"},[(0,a.Lk)("div",I,[(0,a.Lk)("span",{class:(0,R.C4)([`bg-${s.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,a.Lk)("strong",j,(0,R.v_)(s.title),1),(0,a.Lk)("button",{type:"button",class:"btn-close",onClick:s=>l.clearToast(t),"aria-label":"Close"},null,8,D)]),s.content?((0,a.uX)(),(0,a.CE)("div",G,(0,R.v_)(s.content),1)):(0,a.Q3)("",!0)],2)))),128))])}var z={data(){return{messages:[]}},methods:{toastShow(){setTimeout((()=>{this.messages.shift()}),6e3)},clearToast(s){this.messages.splice(s,1)}},mounted(){X.A.on("push-message",(s=>{const{style:t="success",title:e,content:a}=s;this.messages.push({style:t,title:e,content:a}),this.toastShow()}))}};const Q=(0,M.A)(z,[["render",K]]);var q=Q,P={data(){return{isLoading:!1,verify:!1}},components:{BackNavbar:H,FrontFooter:W.A,ToastMessages:q},methods:{logout(){const s="https://vue3-course-api.hexschool.io/v2//logout";this.$http.post(s).then((s=>{this.$httpMessageState(s,"登出"),s.data.success&&(this.$router.push("/login"),this.verify=!1)})).catch((s=>{this.$httpMessageState(s.response,"錯誤訊息"),this.verify=!1}))}},created(){this.isLoading=!0;const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${s}`,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/user/check").then((s=>{this.$httpMessageState(s,"登入"),this.verify=!0,this.isLoading=!1})).catch((()=>{this.$router.push("/login"),this.isLoading=!1}))}};const V=(0,M.A)(P,[["render",i]]);var J=V}}]);
//# sourceMappingURL=679.76e9fdf4.js.map