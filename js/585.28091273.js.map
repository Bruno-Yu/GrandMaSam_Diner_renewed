{"version":3,"file":"js/585.28091273.js","mappings":"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","sources":["webpack://grandmasam_diner_renewed/./src/views/frontend/OrderCheck.vue","webpack://grandmasam_diner_renewed/./src/views/frontend/OrderCheck.vue?bd21"],"sourcesContent":["<template>\n  <PageLoading\n    loader=\"bars\"\n    :active=\"isLoading\"\n    :can-cancel=\"true\"\n    :is-full-page=\"false\"\n  ></PageLoading>\n  <ModalMessage ref=\"modalMessage\"></ModalMessage>\n  <div class=\"container mt-4\">\n    <div class=\"container my-3 d-none d-md-grid\">\n      <div class=\"row row-cols-3\">\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 text-dark my-2\">購物車</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">填寫資訊</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\" type=\"button\">\n            <p class=\"fs-4 font-Noto fw-600 my-2\">訂單內容</p>\n          </button>\n        </div>\n      </div>\n    </div>\n    <h2 class=\"font-Noto mt-2 mt-lg-5 fw-700 text-center text-md-start ps-md-5 text-warning\">\n      步驟 3. 訂單內容\n    </h2>\n    <div\n      class=\"container shadow-sm my-5 bg-body border border-1 border-body align-middle rounded-3 px-lg-5\"\n    >\n      <div class=\"row row-cols-1 row-cols-lg-2 mt-5 mb-3 justify-content-center\">\n        <div class=\"col-lg-6 p-4 bg-body border border-1 border-body\">\n          <h3 class=\"fw-bold font-Noto mb-3\">施主資訊</h3>\n          <table class=\"table\">\n            <tbody v-if=\"orderShow.user\">\n              <tr>\n                <th class=\"font-Noto fw-400\">姓名</th>\n                <td class=\"font-Noto fw-400\">{{ orderShow.user.name }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">Email</th>\n                <td>{{ orderShow.user.email }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">電話</th>\n                <td>{{ orderShow.user.tel }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">地址</th>\n                <td class=\"font-Noto fw-400\">{{ orderShow.user.address }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"col-lg-6 p-4 bg-body border border-1 border-body\">\n          <h3 class=\"fw-bold font-Noto mb-3\">訂單細節</h3>\n          <table class=\"table\">\n            <tbody>\n              <tr>\n                <th class=\"font-Noto fw-400\">訂單編號</th>\n                <td>{{ orderShow.id }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">下單時間</th>\n                <td>{{ orderShow.create_at }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">付款時間</th>\n                <td>\n                  {{ PaidDate }}\n                </td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">付款狀態</th>\n                <td>\n                  <strong v-if=\"orderShow.is_paid\" class=\"text-success font-Noto fw-600\"\n                    >已付款</strong\n                  >\n                  <span v-else class=\"text-muted font-Noto fw-600\">尚未付款</span>\n                </td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">總金額</th>\n                <td class=\"fs-4 font-Noto fw-bold text-warning\">\n                  {{ orderShow.total }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <hr />\n      <div class=\"row my-2 justify-content-center p-4 bg-body border border-1 border-body\">\n        <h3 class=\"fw-bold font-Noto\">選購商品</h3>\n        <table class=\"table col-6 mt-3 fw-bold font-Noto\">\n          <thead>\n            <tr></tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in orderShow.products\" :key=\"item.id\">\n              <th>\n                {{ item.product.title }}\n              </th>\n              <td>\n                {{ item.qty }}\n                <span class=\"d-none d-lg-inline\">/ {{ item.product.unit }}</span>\n              </td>\n              <td class=\"text-end\">\n                {{ item.final_total }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"my-3 d-flex justify-content-center\">\n        <button\n          type=\"button\"\n          class=\"btn btn-danger fw-bold font-Noto fs-4 w-auto\"\n          @click=\"updatePaid\"\n        >\n          確認並付款\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      status: {},\n      orders: {},\n      orderShow: {},\n      isPaid: false,\n      isLoading: false,\n      PaidDate: '尚未付款',\n    };\n  },\n  methods: {\n    PaidDateRenewed() {\n      const date = new Date();\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      const dateFull = `${year}/${month}/${day}`;\n      return dateFull;\n    },\n    dateTimeFormat(item) {\n      const date = new Date(item * 1000);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      const dateFull = `${year}/${month}/${day}`;\n      return dateFull;\n    },\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/orders`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.orders = res.data.orders.map((item) => ({\n            ...item,\n            create_at: this.dateTimeFormat(item.create_at),\n          }));\n          this.orderShow = this.orders.pop();\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    updatePaid() {\n      this.isLoading = true;\n      const { id } = this.orderShow;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${id}`;\n      this.$http\n        .post(api)\n        .then(() => {\n          this.PaidDate = this.PaidDateRenewed();\n          this.$refs.modalMessage.openModal(true, 'paid', id);\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.$refs.modalMessage.openModal(false, 'paid');\n          this.isLoading = false;\n        });\n    },\n  },\n  created() {\n    this.isLoading = true;\n    this.getOrder();\n    this.isLoading = false;\n  },\n};\n</script>\n","import { render } from \"./OrderCheck.vue?vue&type=template&id=c28a83c8\"\nimport script from \"./OrderCheck.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheck.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createStaticVNode","_createElementVNode","key","_createElementBlock","_Fragment","_createVNode","_component_PageLoading","loader","active","$data","isLoading","_component_ModalMessage","ref","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","orderShow","user","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","name","_hoisted_12","email","_hoisted_13","tel","_hoisted_14","_hoisted_15","address","_createCommentVNode","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","id","_hoisted_20","create_at","_hoisted_21","PaidDate","_hoisted_22","is_paid","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","total","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_renderList","products","item","product","title","_createTextVNode","qty","_hoisted_32","unit","_hoisted_33","final_total","_hoisted_34","type","onClick","_cache","args","$options","updatePaid","data","status","orders","isPaid","methods","PaidDateRenewed","date","Date","year","getFullYear","month","getMonth","day","getDate","dateFull","dateTimeFormat","getOrder","url","this","$http","get","then","res","map","pop","catch","api","post","$refs","modalMessage","openModal","created","__exports__","render"],"sourceRoot":""}